"use strict";(self.webpackChunkassignment_frontend=self.webpackChunkassignment_frontend||[]).push([[158],{4158:(Ct,Y,v)=>{v.r(Y),v.d(Y,{NewTodoModule:()=>_t});var V=v(6895),b=v(433),P=v(9199),J=v(7801),d=v(8256),Q=v(4824);function G(n,e){if(1&n){const t=d.EpF();d.TgZ(0,"li",2),d.NdJ("click",function(){const a=d.CHM(t).$implicit,l=d.oxw();return d.KtG(l.onItemClick(a))}),d._uU(1),d.qZA()}if(2&n){const t=e.$implicit;d.xp6(1),d.hij(" ",t.label," ")}}const R=["*"];let K=(()=>{class n{constructor(t){this.host=t,this.value=null,this.item=void 0,this.items=[],this.disabled=!1,this.blurListener=this.onBlur.bind(this),this.host.nativeElement.addEventListener("blur",this.blurListener,!0)}onBlur(){this.onTouched&&this.onTouched()}setValue(t){this.value=t,this.item=this.items.find(s=>s.value===t)}onItemClick(t){this.setValue(t.value),this.onChange&&this.onChange(t.value)}writeValue(t){this.setValue(t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.disabled=t}ngOnDestroy(){this.host.nativeElement.removeEventListener("blur",this.blurListener,!0)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.SBq))},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-dropdown-menu"]],inputs:{items:"items"},features:[d._Bn([{provide:b.JU,useExisting:(0,d.Gpc)(()=>n),multi:!0}])],ngContentSelectors:R,decls:3,vars:1,consts:[[1,"dropdown-menu"],["class","dropdown-item",3,"click",4,"ngFor","ngForOf"],[1,"dropdown-item",3,"click"]],template:function(t,s){1&t&&(d.F$t(),d.Hsn(0),d.TgZ(1,"ul",0),d.YNc(2,G,2,1,"li",1),d.qZA()),2&t&&(d.xp6(2),d.Q6J("ngForOf",s.items))},dependencies:[V.sg]}),n})();function Z(n,e,t,s,i,a,l){try{var u=n[a](l),p=u.value}catch(y){return void t(y)}u.done?e(p):Promise.resolve(p).then(s,i)}var r=(()=>{return(n=r||(r={})).seconds="seconds",n.minutes="minutes",n.hours="hours",n.date="date",n.month="month",n.year="year",r;var n})();const $={month:"2-digit",day:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!0},tt={hour:"2-digit",hour12:!1},L=n=>{switch(n){case"date":return{dateStyle:"short"};case"month":return{month:"numeric",year:"numeric"};case"year":return{year:"numeric"}}};class w extends Date{constructor(){super(...arguments),this.locale="default",this.nonLeapLadder=[0,31,59,90,120,151,181,212,243,273,304,334],this.leapLadder=[0,31,60,91,121,152,182,213,244,274,305,335]}setLocale(e){return this.locale=e,this}static convert(e,t="default"){if(!e)throw new Error("A date is required");return new w(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()).setLocale(t)}static fromString(e,t){return new w(e)}get clone(){return new w(this.year,this.month,this.date,this.hours,this.minutes,this.seconds,this.getMilliseconds()).setLocale(this.locale)}startOf(e,t=0){if(void 0===this[e])throw new Error(`Unit '${e}' is not valid`);switch(e){case"seconds":this.setMilliseconds(0);break;case"minutes":this.setSeconds(0,0);break;case"hours":this.setMinutes(0,0,0);break;case"date":this.setHours(0,0,0,0);break;case"weekDay":if(this.startOf(r.date),this.weekDay===t)break;let s=this.weekDay;0!==t&&0===this.weekDay&&(s=8-t),this.manipulate(t-s,r.date);break;case"month":this.startOf(r.date),this.setDate(1);break;case"year":this.startOf(r.date),this.setMonth(0,1)}return this}endOf(e,t=0){if(void 0===this[e])throw new Error(`Unit '${e}' is not valid`);switch(e){case"seconds":this.setMilliseconds(999);break;case"minutes":this.setSeconds(59,999);break;case"hours":this.setMinutes(59,59,999);break;case"date":this.setHours(23,59,59,999);break;case"weekDay":this.endOf(r.date),this.manipulate(6+t-this.weekDay,r.date);break;case"month":this.endOf(r.date),this.manipulate(1,r.month),this.setDate(0);break;case"year":this.endOf(r.date),this.manipulate(1,r.year),this.setDate(0)}return this}manipulate(e,t){if(void 0===this[t])throw new Error(`Unit '${t}' is not valid`);return this[t]+=e,this}format(e,t=this.locale){return new Intl.DateTimeFormat(t,e).format(this)}isBefore(e,t){if(!t)return this.valueOf()<e.valueOf();if(void 0===this[t])throw new Error(`Unit '${t}' is not valid`);return this.clone.startOf(t).valueOf()<e.clone.startOf(t).valueOf()}isAfter(e,t){if(!t)return this.valueOf()>e.valueOf();if(void 0===this[t])throw new Error(`Unit '${t}' is not valid`);return this.clone.startOf(t).valueOf()>e.clone.startOf(t).valueOf()}isSame(e,t){if(!t)return this.valueOf()===e.valueOf();if(void 0===this[t])throw new Error(`Unit '${t}' is not valid`);return e=w.convert(e),this.clone.startOf(t).valueOf()===e.startOf(t).valueOf()}isBetween(e,t,s,i="()"){if(s&&void 0===this[s])throw new Error(`Unit '${s}' is not valid`);const a="("===i[0],l=")"===i[1];return(a?this.isAfter(e,s):!this.isBefore(e,s))&&(l?this.isBefore(t,s):!this.isAfter(t,s))||(a?this.isBefore(e,s):!this.isAfter(e,s))&&(l?this.isAfter(t,s):!this.isBefore(t,s))}parts(e=this.locale,t={dateStyle:"full",timeStyle:"long"}){const s={};return new Intl.DateTimeFormat(e,t).formatToParts(this).filter(i=>"literal"!==i.type).forEach(i=>s[i.type]=i.value),s}get seconds(){return this.getSeconds()}set seconds(e){this.setSeconds(e)}get secondsFormatted(){return this.parts(void 0,$).second}get minutes(){return this.getMinutes()}set minutes(e){this.setMinutes(e)}get minutesFormatted(){return this.parts(void 0,$).minute}get hours(){return this.getHours()}set hours(e){this.setHours(e)}get hoursFormatted(){return this.parts(void 0,tt).hour}get twelveHoursFormatted(){return this.parts(void 0,$).hour}meridiem(e=this.locale){return new Intl.DateTimeFormat(e,{hour:"numeric",hour12:!0}).formatToParts(this).find(t=>"dayPeriod"===t.type)?.value}get date(){return this.getDate()}set date(e){this.setDate(e)}get dateFormatted(){return this.parts(void 0,$).day}get weekDay(){return this.getDay()}get month(){return this.getMonth()}set month(e){const t=new Date(this.year,e+1);t.setDate(0);const s=t.getDate();this.date>s&&(this.date=s),this.setMonth(e)}get monthFormatted(){return this.parts(void 0,$).month}get year(){return this.getFullYear()}set year(e){this.setFullYear(e)}get week(){const e=this.computeOrdinal(),t=this.getUTCDay();let s=Math.floor((e-t+10)/7);return s<1?s=this.weeksInWeekYear(this.year-1):s>this.weeksInWeekYear(this.year)&&(s=1),s}weeksInWeekYear(e){const t=(e+Math.floor(e/4)-Math.floor(e/100)+Math.floor(e/400))%7,s=e-1,i=(s+Math.floor(s/4)-Math.floor(s/100)+Math.floor(s/400))%7;return 4===t||3===i?53:52}get isLeapYear(){return this.year%4==0&&(this.year%100!=0||this.year%400==0)}computeOrdinal(){return this.date+(this.isLeapYear?this.leapLadder:this.nonLeapLadder)[this.month]}}class D extends Error{}const j="tempus-dominus";class o{}o.NAME=j,o.dataKey="td",o.events=new class et{constructor(){this.key=".td",this.change=`change${this.key}`,this.update=`update${this.key}`,this.error=`error${this.key}`,this.show=`show${this.key}`,this.hide=`hide${this.key}`,this.blur=`blur${this.key}`,this.focus=`focus${this.key}`,this.keyup=`keyup${this.key}`,this.keydown=`keydown${this.key}`}},o.css=new class st{constructor(){this.widget=`${j}-widget`,this.calendarHeader="calendar-header",this.switch="picker-switch",this.toolbar="toolbar",this.noHighlight="no-highlight",this.sideBySide="timepicker-sbs",this.previous="previous",this.next="next",this.disabled="disabled",this.old="old",this.new="new",this.active="active",this.dateContainer="date-container",this.decadesContainer=`${this.dateContainer}-decades`,this.decade="decade",this.yearsContainer=`${this.dateContainer}-years`,this.year="year",this.monthsContainer=`${this.dateContainer}-months`,this.month="month",this.daysContainer=`${this.dateContainer}-days`,this.day="day",this.calendarWeeks="cw",this.dayOfTheWeek="dow",this.today="today",this.weekend="weekend",this.timeContainer="time-container",this.separator="separator",this.clockContainer=`${this.timeContainer}-clock`,this.hourContainer=`${this.timeContainer}-hour`,this.minuteContainer=`${this.timeContainer}-minute`,this.secondContainer=`${this.timeContainer}-second`,this.hour="hour",this.minute="minute",this.second="second",this.toggleMeridiem="toggleMeridiem",this.show="show",this.collapsing="td-collapsing",this.collapse="td-collapse",this.inline="inline",this.lightTheme="light",this.darkTheme="dark",this.isDarkPreferredQuery="(prefers-color-scheme: dark)"}},o.errorMessages=new class U{constructor(){this.base="TD:",this.failedToSetInvalidDate="Failed to set invalid date",this.failedToParseInput="Failed parse input field"}unexpectedOption(e){const t=new D(`${this.base} Unexpected option: ${e} does not match a known option.`);throw t.code=1,t}unexpectedOptions(e){const t=new D(`${this.base}: ${e.join(", ")}`);throw t.code=1,t}unexpectedOptionValue(e,t,s){const i=new D(`${this.base} Unexpected option value: ${e} does not accept a value of "${t}". Valid values are: ${s.join(", ")}`);throw i.code=2,i}typeMismatch(e,t,s){const i=new D(`${this.base} Mismatch types: ${e} has a type of ${t} instead of the required ${s}`);throw i.code=3,i}numbersOutOfRange(e,t,s){const i=new D(`${this.base} ${e} expected an array of number between ${t} and ${s}.`);throw i.code=4,i}failedToParseDate(e,t,s=!1){const i=new D(`${this.base} Could not correctly parse "${t}" to a date for ${e}.`);if(i.code=5,!s)throw i;console.warn(i)}mustProvideElement(){const e=new D(`${this.base} No element was provided.`);throw e.code=6,e}subscribeMismatch(){const e=new D(`${this.base} The subscribed events does not match the number of callbacks`);throw e.code=7,e}conflictingConfiguration(e){const t=new D(`${this.base} A configuration value conflicts with another rule. ${e}`);throw t.code=8,t}customDateFormatError(e){const t=new D(`${this.base} customDateFormat: ${e}`);throw t.code=9,t}dateString(){console.warn(`${this.base} Using a string for date options is not recommended unless you specify an ISO string or use the customDateFormat plugin.`)}throwError(e){const t=new D(`${this.base} ${e}`);throw t.code=9,t}};class it{constructor(){this.cache=new Map}locate(e){const t=this.cache.get(e);if(t)return t;const s=new e;return this.cache.set(e,s),s}}let f;const A=[{name:"calendar",className:o.css.daysContainer,unit:r.month,step:1},{name:"months",className:o.css.monthsContainer,unit:r.year,step:1},{name:"years",className:o.css.yearsContainer,unit:r.year,step:10},{name:"decades",className:o.css.decadesContainer,unit:r.year,step:100}];class S{constructor(){this.viewDate=new w,this._currentCalendarViewMode=0,this.minimumCalendarViewMode=0,this.currentView="calendar"}get currentCalendarViewMode(){return this._currentCalendarViewMode}set currentCalendarViewMode(e){this._currentCalendarViewMode=e,this.currentView=A[e].name}refreshCurrentView(){this.currentView=A[this.currentCalendarViewMode].name}}class k{constructor(){this.optionsStore=f.locate(S)}isValid(e,t){if(this.optionsStore.options.restrictions.disabledDates.length>0&&this._isInDisabledDates(e)||this.optionsStore.options.restrictions.enabledDates.length>0&&!this._isInEnabledDates(e)||t!==r.month&&t!==r.year&&this.optionsStore.options.restrictions.daysOfWeekDisabled?.length>0&&-1!==this.optionsStore.options.restrictions.daysOfWeekDisabled.indexOf(e.weekDay)||this.optionsStore.options.restrictions.minDate&&e.isBefore(this.optionsStore.options.restrictions.minDate,t)||this.optionsStore.options.restrictions.maxDate&&e.isAfter(this.optionsStore.options.restrictions.maxDate,t))return!1;if(t===r.hours||t===r.minutes||t===r.seconds){if(this.optionsStore.options.restrictions.disabledHours.length>0&&this._isInDisabledHours(e)||this.optionsStore.options.restrictions.enabledHours.length>0&&!this._isInEnabledHours(e))return!1;if(this.optionsStore.options.restrictions.disabledTimeIntervals.length>0)for(let s of this.optionsStore.options.restrictions.disabledTimeIntervals)if(e.isBetween(s.from,s.to))return!1}return!0}_isInDisabledDates(e){if(!this.optionsStore.options.restrictions.disabledDates||0===this.optionsStore.options.restrictions.disabledDates.length)return!1;const t=e.format(L(r.date));return this.optionsStore.options.restrictions.disabledDates.map(s=>s.format(L(r.date))).find(s=>s===t)}_isInEnabledDates(e){if(!this.optionsStore.options.restrictions.enabledDates||0===this.optionsStore.options.restrictions.enabledDates.length)return!0;const t=e.format(L(r.date));return this.optionsStore.options.restrictions.enabledDates.map(s=>s.format(L(r.date))).find(s=>s===t)}_isInDisabledHours(e){if(!this.optionsStore.options.restrictions.disabledHours||0===this.optionsStore.options.restrictions.disabledHours.length)return!1;const t=e.hours;return this.optionsStore.options.restrictions.disabledHours.find(s=>s===t)}_isInEnabledHours(e){if(!this.optionsStore.options.restrictions.enabledHours||0===this.optionsStore.options.restrictions.enabledHours.length)return!0;const t=e.hours;return this.optionsStore.options.restrictions.enabledHours.find(s=>s===t)}}class x{constructor(){this.subscribers=[]}subscribe(e){return this.subscribers.push(e),this.unsubscribe.bind(this,this.subscribers.length-1)}unsubscribe(e){this.subscribers.splice(e,1)}emit(e){this.subscribers.forEach(t=>{t(e)})}destroy(){this.subscribers=null,this.subscribers=[]}}class N{constructor(){this.triggerEvent=new x,this.viewUpdate=new x,this.updateDisplay=new x,this.action=new x}destroy(){this.triggerEvent.destroy(),this.viewUpdate.destroy(),this.updateDisplay.destroy(),this.action.destroy()}}const E={restrictions:{minDate:void 0,maxDate:void 0,disabledDates:[],enabledDates:[],daysOfWeekDisabled:[],disabledTimeIntervals:[],disabledHours:[],enabledHours:[]},display:{icons:{type:"icons",time:"fa-solid fa-clock",date:"fa-solid fa-calendar",up:"fa-solid fa-arrow-up",down:"fa-solid fa-arrow-down",previous:"fa-solid fa-chevron-left",next:"fa-solid fa-chevron-right",today:"fa-solid fa-calendar-check",clear:"fa-solid fa-trash",close:"fa-solid fa-xmark"},sideBySide:!1,calendarWeeks:!1,viewMode:"calendar",toolbarPlacement:"bottom",keepOpen:!1,buttons:{today:!1,clear:!1,close:!1},components:{calendar:!0,date:!0,month:!0,year:!0,decades:!0,clock:!0,hours:!0,minutes:!0,seconds:!1,useTwentyfourHour:void 0},inline:!1,theme:"auto"},stepping:1,useCurrent:!0,defaultDate:void 0,localization:{today:"Go to today",clear:"Clear selection",close:"Close the picker",selectMonth:"Select Month",previousMonth:"Previous Month",nextMonth:"Next Month",selectYear:"Select Year",previousYear:"Previous Year",nextYear:"Next Year",selectDecade:"Select Decade",previousDecade:"Previous Decade",nextDecade:"Next Decade",previousCentury:"Previous Century",nextCentury:"Next Century",pickHour:"Pick Hour",incrementHour:"Increment Hour",decrementHour:"Decrement Hour",pickMinute:"Pick Minute",incrementMinute:"Increment Minute",decrementMinute:"Decrement Minute",pickSecond:"Pick Second",incrementSecond:"Increment Second",decrementSecond:"Decrement Second",toggleMeridiem:"Toggle Meridiem",selectTime:"Select Time",selectDate:"Select Date",dayViewHeaderFormat:{month:"long",year:"2-digit"},locale:"default",startOfTheWeek:0,dateFormats:{LTS:"h:mm:ss T",LT:"h:mm T",L:"MM/dd/yyyy",LL:"MMMM d, yyyy",LLL:"MMMM d, yyyy h:mm T",LLLL:"dddd, MMMM d, yyyy h:mm T"},ordinal:n=>n,format:"L LT"},keepInvalid:!1,debug:!1,allowInputToggle:!1,viewDate:new w,multipleDates:!1,multipleDatesSeparator:"; ",promptTimeOnDateChange:!1,promptTimeOnDateChangeTransitionDelay:200,meta:{},container:void 0};let H=(()=>{class n{static deepCopy(t){const s={};return Object.keys(t).forEach(i=>{const a=t[i];s[i]=a,!("object"!=typeof a||a instanceof HTMLElement||a instanceof Element||a instanceof Date)&&(Array.isArray(a)||(s[i]=n.deepCopy(a)))}),s}static objectPath(t,s){return"."===t.charAt(0)&&(t=t.slice(1)),t?t.split(".").reduce((i,a)=>n.isValue(i)||n.isValue(i[a])?i[a]:void 0,s):s}static spread(t,s,i="",a){const l=n.objectPath(i,E),u=Object.keys(t).filter(p=>!Object.keys(l).includes(p));if(u.length>0){const p=n.getFlattenDefaultOptions(),y=u.map(c=>{let m=`"${i}.${c}" in not a known option.`,g=p.find(T=>T.includes(c));return g&&(m+=` Did you mean "${g}"?`),m});o.errorMessages.unexpectedOptions(y)}Object.keys(t).filter(p=>"__proto__"!==p&&"constructor"!==p).forEach(p=>{"."===(i+=`.${p}`).charAt(0)&&(i=i.slice(1));const y=l[p];let c=typeof t[p],m=typeof y,g=t[p];if(null==g)return s[p]=g,void(i=i.substring(0,i.lastIndexOf(`.${p}`)));"object"!=typeof y||Array.isArray(t[p])||y instanceof Date||n.ignoreProperties.includes(p)?s[p]=n.processKey(p,g,c,m,i,a):n.spread(t[p],s[p],i,a),i=i.substring(0,i.lastIndexOf(`.${p}`))})}static processKey(t,s,i,a,l,u){switch(t){case"defaultDate":{const m=this.dateConversion(s,"defaultDate",u);if(void 0!==m)return m.setLocale(u.locale),m;o.errorMessages.typeMismatch("defaultDate",i,"DateTime or Date");break}case"viewDate":{const m=this.dateConversion(s,"viewDate",u);if(void 0!==m)return m.setLocale(u.locale),m;o.errorMessages.typeMismatch("viewDate",i,"DateTime or Date");break}case"minDate":{if(void 0===s)return s;const m=this.dateConversion(s,"restrictions.minDate",u);if(void 0!==m)return m.setLocale(u.locale),m;o.errorMessages.typeMismatch("restrictions.minDate",i,"DateTime or Date");break}case"maxDate":{if(void 0===s)return s;const m=this.dateConversion(s,"restrictions.maxDate",u);if(void 0!==m)return m.setLocale(u.locale),m;o.errorMessages.typeMismatch("restrictions.maxDate",i,"DateTime or Date");break}case"disabledHours":return void 0===s?[]:(this._typeCheckNumberArray("restrictions.disabledHours",s,i),s.filter(m=>m<0||m>24).length>0&&o.errorMessages.numbersOutOfRange("restrictions.disabledHours",0,23),s);case"enabledHours":return void 0===s?[]:(this._typeCheckNumberArray("restrictions.enabledHours",s,i),s.filter(m=>m<0||m>24).length>0&&o.errorMessages.numbersOutOfRange("restrictions.enabledHours",0,23),s);case"daysOfWeekDisabled":return void 0===s?[]:(this._typeCheckNumberArray("restrictions.daysOfWeekDisabled",s,i),s.filter(m=>m<0||m>6).length>0&&o.errorMessages.numbersOutOfRange("restrictions.daysOfWeekDisabled",0,6),s);case"enabledDates":return void 0===s?[]:(this._typeCheckDateArray("restrictions.enabledDates",s,i,u),s);case"disabledDates":return void 0===s?[]:(this._typeCheckDateArray("restrictions.disabledDates",s,i,u),s);case"disabledTimeIntervals":if(void 0===s)return[];Array.isArray(s)||o.errorMessages.typeMismatch(t,i,"array of { from: DateTime|Date, to: DateTime|Date }");const p=s;for(let m=0;m<p.length;m++)Object.keys(p[m]).forEach(g=>{const T=`${t}[${m}].${g}`;let M=p[m][g];const _=this.dateConversion(M,T,u);_||o.errorMessages.typeMismatch(T,typeof M,"DateTime or Date"),_.setLocale(u.locale),p[m][g]=_});return p;case"toolbarPlacement":case"type":case"viewMode":case"theme":const c={toolbarPlacement:["top","bottom","default"],type:["icons","sprites"],viewMode:["clock","calendar","months","years","decades"],theme:["light","dark","auto"]}[t];return c.includes(s)||o.errorMessages.unexpectedOptionValue(l.substring(1),s,c),s;case"meta":case"dayViewHeaderFormat":return s;case"container":return s&&!(s instanceof HTMLElement||s instanceof Element||s?.appendChild)&&o.errorMessages.typeMismatch(l.substring(1),typeof s,"HTMLElement"),s;case"useTwentyfourHour":if(void 0===s||"boolean"===i)return s;o.errorMessages.typeMismatch(l,i,a);break;default:switch(a){case"boolean":return"true"===s||!0===s;case"number":return+s;case"string":return s.toString();case"object":return{};case"function":return s;default:o.errorMessages.typeMismatch(l,i,a)}}}static _mergeOptions(t,s){const i=n.deepCopy(s);return n.spread(t,i,"","default"!==s.localization?.locale?s.localization:t?.localization||E.localization),i}static _dataToOptions(t,s){const i=JSON.parse(JSON.stringify(t.dataset));if(i?.tdTargetInput&&delete i.tdTargetInput,i?.tdTargetToggle&&delete i.tdTargetToggle,!i||0===Object.keys(i).length||i.constructor!==DOMStringMap)return s;let a={};const l=y=>{const c={};return Object.keys(y).forEach(m=>{c[m.toLowerCase()]=m}),c},u=(y,c,m,g)=>{const M=l(m)[y[c].toLowerCase()],_={};return void 0===M||(m[M].constructor===Object?(c++,_[M]=u(y,c,m[M],g)):_[M]=g),_},p=l(s);return Object.keys(i).filter(y=>y.startsWith(o.dataKey)).map(y=>y.substring(2)).forEach(y=>{let c=p[y.toLowerCase()];if(y.includes("_")){const m=y.split("_");c=p[m[0].toLowerCase()],void 0!==c&&s[c].constructor===Object&&(a[c]=u(m,1,s[c],i[`td${y}`]))}else void 0!==c&&(a[c]=i[`td${y}`])}),this._mergeOptions(a,s)}static _dateTypeCheck(t,s){if(t.constructor.name===w.name)return t;if(t.constructor.name===Date.name)return w.convert(t);if("string"==typeof t){const i=w.fromString(t,s);return"null"===JSON.stringify(i)?null:i}return null}static _typeCheckDateArray(t,s,i,a){Array.isArray(s)||o.errorMessages.typeMismatch(t,i,"array of DateTime or Date");for(let l=0;l<s.length;l++){let u=s[l];const p=this.dateConversion(u,t,a);p||o.errorMessages.typeMismatch(t,typeof u,"DateTime or Date"),p.setLocale(a?.locale??"default"),s[l]=p}}static _typeCheckNumberArray(t,s,i){(!Array.isArray(s)||s.find(a=>"number"!=typeof a))&&o.errorMessages.typeMismatch(t,i,"array of numbers")}static dateConversion(t,s,i){"string"==typeof t&&"input"!==s&&o.errorMessages.dateString();const a=this._dateTypeCheck(t,i);return a||o.errorMessages.failedToParseDate(s,t,"input"===s),a}static getFlattenDefaultOptions(){if(this._flattenDefaults)return this._flattenDefaults;const t=(s,i=[])=>Array.isArray(s)?[]:Object(s)===s?Object.entries(s).flatMap(([a,l])=>t(l,[...i,a])):i.join(".");return this._flattenDefaults=t(E),this._flattenDefaults}static _validateConflicts(t){t.display.sideBySide&&(!t.display.components.clock||!(t.display.components.hours||t.display.components.minutes||t.display.components.seconds))&&o.errorMessages.conflictingConfiguration("Cannot use side by side mode without the clock components"),t.restrictions.minDate&&t.restrictions.maxDate&&(t.restrictions.minDate.isAfter(t.restrictions.maxDate)&&o.errorMessages.conflictingConfiguration("minDate is after maxDate"),t.restrictions.maxDate.isBefore(t.restrictions.minDate)&&o.errorMessages.conflictingConfiguration("maxDate is before minDate"))}}return n.ignoreProperties=["meta","dayViewHeaderFormat","container","dateForms","ordinal"],n.isValue=e=>null!=e,n})();class C{constructor(){this._dates=[],this.optionsStore=f.locate(S),this.validation=f.locate(k),this._eventEmitters=f.locate(N)}get picked(){return this._dates}get lastPicked(){return this._dates[this.lastPickedIndex]}get lastPickedIndex(){return 0===this._dates.length?0:this._dates.length-1}formatInput(e){const t=this.optionsStore.options.display.components;return e?e.format({year:t.calendar&&t.year?"numeric":void 0,month:t.calendar&&t.month?"2-digit":void 0,day:t.calendar&&t.date?"2-digit":void 0,hour:t.clock&&t.hours?t.useTwentyfourHour?"2-digit":"numeric":void 0,minute:t.clock&&t.minutes?"2-digit":void 0,second:t.clock&&t.seconds?"2-digit":void 0,hour12:!t.useTwentyfourHour}):""}parseInput(e){return H.dateConversion(e,"input",this.optionsStore.options.localization)}setFromInput(e,t){if(!e)return void this.setValue(void 0,t);const s=this.parseInput(e);s&&(s.setLocale(this.optionsStore.options.localization.locale),this.setValue(s,t))}add(e){this._dates.push(e)}isPicked(e,t){if(!t)return void 0!==this._dates.find(a=>a===e);const s=L(t);let i=e.format(s);return void 0!==this._dates.map(a=>a.format(s)).find(a=>a===i)}pickedIndex(e,t){if(!t)return this._dates.indexOf(e);const s=L(t);let i=e.format(s);return this._dates.map(a=>a.format(s)).indexOf(i)}clear(){this.optionsStore.unset=!0,this._eventEmitters.triggerEvent.emit({type:o.events.change,date:void 0,oldDate:this.lastPicked,isClear:!0,isValid:!0}),this._dates=[]}static getStartEndYear(e,t){const s=e/10,i=Math.floor(t/e)*e;return[i,i+9*s,Math.floor(t/s)*s]}setValue(e,t){const s=typeof t>"u",i=!e&&s;let a=this.optionsStore.unset?null:this._dates[t];!a&&!this.optionsStore.unset&&s&&i&&(a=this.lastPicked);const l=()=>{if(!this.optionsStore.input)return;let u=this.formatInput(e);this.optionsStore.options.multipleDates&&(u=this._dates.map(p=>this.formatInput(p)).join(this.optionsStore.options.multipleDatesSeparator)),this.optionsStore.input.value!=u&&(this.optionsStore.input.value=u)};if(!e||!a?.isSame(e))return e?(t=t||0,e=e.clone,1!==this.optionsStore.options.stepping&&(e.minutes=Math.round(e.minutes/this.optionsStore.options.stepping)*this.optionsStore.options.stepping,e.seconds=0),this.validation.isValid(e)?(this._dates[t]=e,this.optionsStore.viewDate=e.clone,l(),this.optionsStore.unset=!1,this._eventEmitters.updateDisplay.emit("all"),void this._eventEmitters.triggerEvent.emit({type:o.events.change,date:e,oldDate:a,isClear:i,isValid:!0})):(this.optionsStore.options.keepInvalid&&(this._dates[t]=e,this.optionsStore.viewDate=e.clone,l(),this._eventEmitters.triggerEvent.emit({type:o.events.change,date:e,oldDate:a,isClear:i,isValid:!1})),void this._eventEmitters.triggerEvent.emit({type:o.events.error,reason:o.errorMessages.failedToSetInvalidDate,date:e,oldDate:a}))):(!this.optionsStore.options.multipleDates||1===this._dates.length||i?(this.optionsStore.unset=!0,this._dates=[]):this._dates.splice(t,1),l(),this._eventEmitters.triggerEvent.emit({type:o.events.change,date:void 0,oldDate:a,isClear:i,isValid:!0}),void this._eventEmitters.updateDisplay.emit("all"));l()}}var I=(()=>{return(n=I||(I={})).next="next",n.previous="previous",n.changeCalendarView="changeCalendarView",n.selectMonth="selectMonth",n.selectYear="selectYear",n.selectDecade="selectDecade",n.selectDay="selectDay",n.selectHour="selectHour",n.selectMinute="selectMinute",n.selectSecond="selectSecond",n.incrementHours="incrementHours",n.incrementMinutes="incrementMinutes",n.incrementSeconds="incrementSeconds",n.decrementHours="decrementHours",n.decrementMinutes="decrementMinutes",n.decrementSeconds="decrementSeconds",n.toggleMeridiem="toggleMeridiem",n.togglePicker="togglePicker",n.showClock="showClock",n.showHours="showHours",n.showMinutes="showMinutes",n.showSeconds="showSeconds",n.clear="clear",n.close="close",n.today="today",I;var n})(),h=I;class nt{constructor(){this.optionsStore=f.locate(S),this.dates=f.locate(C),this.validation=f.locate(k)}getPicker(){const e=document.createElement("div");if(e.classList.add(o.css.daysContainer),e.append(...this._daysOfTheWeek()),this.optionsStore.options.display.calendarWeeks){const t=document.createElement("div");t.classList.add(o.css.calendarWeeks,o.css.noHighlight),e.appendChild(t)}for(let t=0;t<42;t++){if(0!==t&&t%7==0&&this.optionsStore.options.display.calendarWeeks){const i=document.createElement("div");i.classList.add(o.css.calendarWeeks,o.css.noHighlight),e.appendChild(i)}const s=document.createElement("div");s.setAttribute("data-action",h.selectDay),e.appendChild(s)}return e}_update(e,t){const s=e.getElementsByClassName(o.css.daysContainer)[0];if("calendar"===this.optionsStore.currentView){const[a,l,u]=s.parentElement.getElementsByClassName(o.css.calendarHeader)[0].getElementsByTagName("div");l.setAttribute(o.css.daysContainer,this.optionsStore.viewDate.format(this.optionsStore.options.localization.dayViewHeaderFormat)),this.optionsStore.options.display.components.month?l.classList.remove(o.css.disabled):l.classList.add(o.css.disabled),this.validation.isValid(this.optionsStore.viewDate.clone.manipulate(-1,r.month),r.month)?a.classList.remove(o.css.disabled):a.classList.add(o.css.disabled),this.validation.isValid(this.optionsStore.viewDate.clone.manipulate(1,r.month),r.month)?u.classList.remove(o.css.disabled):u.classList.add(o.css.disabled)}let i=this.optionsStore.viewDate.clone.startOf(r.month).startOf("weekDay",this.optionsStore.options.localization.startOfTheWeek).manipulate(12,r.hours);s.querySelectorAll(`[data-action="${h.selectDay}"], .${o.css.calendarWeeks}`).forEach(a=>{if(this.optionsStore.options.display.calendarWeeks&&a.classList.contains(o.css.calendarWeeks)){if("#"===a.innerText)return;return void(a.innerText=`${i.week}`)}let l=[];l.push(o.css.day),i.isBefore(this.optionsStore.viewDate,r.month)&&l.push(o.css.old),i.isAfter(this.optionsStore.viewDate,r.month)&&l.push(o.css.new),!this.optionsStore.unset&&this.dates.isPicked(i,r.date)&&l.push(o.css.active),this.validation.isValid(i,r.date)||l.push(o.css.disabled),i.isSame(new w,r.date)&&l.push(o.css.today),(0===i.weekDay||6===i.weekDay)&&l.push(o.css.weekend),t(r.date,i,l,a),a.classList.remove(...a.classList),a.classList.add(...l),a.setAttribute("data-value",`${i.year}-${i.monthFormatted}-${i.dateFormatted}`),a.setAttribute("data-day",`${i.date}`),a.innerText=i.format({day:"numeric"}),i.manipulate(1,r.date)})}_daysOfTheWeek(){let e=this.optionsStore.viewDate.clone.startOf("weekDay",this.optionsStore.options.localization.startOfTheWeek).startOf(r.date);const t=[];if(document.createElement("div"),this.optionsStore.options.display.calendarWeeks){const s=document.createElement("div");s.classList.add(o.css.calendarWeeks,o.css.noHighlight),s.innerText="#",t.push(s)}for(let s=0;s<7;s++){const i=document.createElement("div");i.classList.add(o.css.dayOfTheWeek,o.css.noHighlight),i.innerText=e.format({weekday:"short"}),e.manipulate(1,r.date),t.push(i)}return t}}class at{constructor(){this.optionsStore=f.locate(S),this.dates=f.locate(C),this.validation=f.locate(k)}getPicker(){const e=document.createElement("div");e.classList.add(o.css.monthsContainer);for(let t=0;t<12;t++){const s=document.createElement("div");s.setAttribute("data-action",h.selectMonth),e.appendChild(s)}return e}_update(e,t){const s=e.getElementsByClassName(o.css.monthsContainer)[0];if("months"===this.optionsStore.currentView){const[a,l,u]=s.parentElement.getElementsByClassName(o.css.calendarHeader)[0].getElementsByTagName("div");l.setAttribute(o.css.monthsContainer,this.optionsStore.viewDate.format({year:"numeric"})),this.optionsStore.options.display.components.year?l.classList.remove(o.css.disabled):l.classList.add(o.css.disabled),this.validation.isValid(this.optionsStore.viewDate.clone.manipulate(-1,r.year),r.year)?a.classList.remove(o.css.disabled):a.classList.add(o.css.disabled),this.validation.isValid(this.optionsStore.viewDate.clone.manipulate(1,r.year),r.year)?u.classList.remove(o.css.disabled):u.classList.add(o.css.disabled)}let i=this.optionsStore.viewDate.clone.startOf(r.year);s.querySelectorAll(`[data-action="${h.selectMonth}"]`).forEach((a,l)=>{let u=[];u.push(o.css.month),!this.optionsStore.unset&&this.dates.isPicked(i,r.month)&&u.push(o.css.active),this.validation.isValid(i,r.month)||u.push(o.css.disabled),t(r.month,i,u,a),a.classList.remove(...a.classList),a.classList.add(...u),a.setAttribute("data-value",`${l}`),a.innerText=`${i.format({month:"short"})}`,i.manipulate(1,r.month)})}}class rt{constructor(){this.optionsStore=f.locate(S),this.dates=f.locate(C),this.validation=f.locate(k)}getPicker(){const e=document.createElement("div");e.classList.add(o.css.yearsContainer);for(let t=0;t<12;t++){const s=document.createElement("div");s.setAttribute("data-action",h.selectYear),e.appendChild(s)}return e}_update(e,t){this._startYear=this.optionsStore.viewDate.clone.manipulate(-1,r.year),this._endYear=this.optionsStore.viewDate.clone.manipulate(10,r.year);const s=e.getElementsByClassName(o.css.yearsContainer)[0];if("years"===this.optionsStore.currentView){const[a,l,u]=s.parentElement.getElementsByClassName(o.css.calendarHeader)[0].getElementsByTagName("div");l.setAttribute(o.css.yearsContainer,`${this._startYear.format({year:"numeric"})}-${this._endYear.format({year:"numeric"})}`),this.optionsStore.options.display.components.decades?l.classList.remove(o.css.disabled):l.classList.add(o.css.disabled),this.validation.isValid(this._startYear,r.year)?a.classList.remove(o.css.disabled):a.classList.add(o.css.disabled),this.validation.isValid(this._endYear,r.year)?u.classList.remove(o.css.disabled):u.classList.add(o.css.disabled)}let i=this.optionsStore.viewDate.clone.startOf(r.year).manipulate(-1,r.year);s.querySelectorAll(`[data-action="${h.selectYear}"]`).forEach(a=>{let l=[];l.push(o.css.year),!this.optionsStore.unset&&this.dates.isPicked(i,r.year)&&l.push(o.css.active),this.validation.isValid(i,r.year)||l.push(o.css.disabled),t(r.year,i,l,a),a.classList.remove(...a.classList),a.classList.add(...l),a.setAttribute("data-value",`${i.year}`),a.innerText=i.format({year:"numeric"}),i.manipulate(1,r.year)})}}class dt{constructor(){this.optionsStore=f.locate(S),this.dates=f.locate(C),this.validation=f.locate(k)}getPicker(){const e=document.createElement("div");e.classList.add(o.css.decadesContainer);for(let t=0;t<12;t++){const s=document.createElement("div");s.setAttribute("data-action",h.selectDecade),e.appendChild(s)}return e}_update(e,t){const[s,i]=C.getStartEndYear(100,this.optionsStore.viewDate.year);this._startDecade=this.optionsStore.viewDate.clone.startOf(r.year),this._startDecade.year=s,this._endDecade=this.optionsStore.viewDate.clone.startOf(r.year),this._endDecade.year=i;const a=e.getElementsByClassName(o.css.decadesContainer)[0],[l,u,p]=a.parentElement.getElementsByClassName(o.css.calendarHeader)[0].getElementsByTagName("div");"decades"===this.optionsStore.currentView&&(u.setAttribute(o.css.decadesContainer,`${this._startDecade.format({year:"numeric"})}-${this._endDecade.format({year:"numeric"})}`),this.validation.isValid(this._startDecade,r.year)?l.classList.remove(o.css.disabled):l.classList.add(o.css.disabled),this.validation.isValid(this._endDecade,r.year)?p.classList.remove(o.css.disabled):p.classList.add(o.css.disabled));const y=this.dates.picked.map(c=>c.year);a.querySelectorAll(`[data-action="${h.selectDecade}"]`).forEach((c,m)=>{if(0===m)return c.classList.add(o.css.old),this._startDecade.year-10<0?(c.textContent=" ",l.classList.add(o.css.disabled),c.classList.add(o.css.disabled),void c.setAttribute("data-value","")):(c.innerText=this._startDecade.clone.manipulate(-10,r.year).format({year:"numeric"}),void c.setAttribute("data-value",`${this._startDecade.year}`));let g=[];g.push(o.css.decade);const T=this._startDecade.year,M=this._startDecade.year+9;!this.optionsStore.unset&&y.filter(_=>_>=T&&_<=M).length>0&&g.push(o.css.active),t("decade",this._startDecade,g,c),c.classList.remove(...c.classList),c.classList.add(...g),c.setAttribute("data-value",`${this._startDecade.year}`),c.innerText=`${this._startDecade.format({year:"numeric"})}`,this._startDecade.manipulate(10,r.year)})}}class lt{constructor(){this._gridColumns="",this.optionsStore=f.locate(S),this.dates=f.locate(C),this.validation=f.locate(k)}getPicker(e){const t=document.createElement("div");return t.classList.add(o.css.clockContainer),t.append(...this._grid(e)),t}_update(e){const t=e.getElementsByClassName(o.css.clockContainer)[0],s=(this.dates.lastPicked||this.optionsStore.viewDate).clone;if(t.querySelectorAll(".disabled").forEach(i=>i.classList.remove(o.css.disabled)),this.optionsStore.options.display.components.hours&&(this.validation.isValid(this.optionsStore.viewDate.clone.manipulate(1,r.hours),r.hours)||t.querySelector(`[data-action=${h.incrementHours}]`).classList.add(o.css.disabled),this.validation.isValid(this.optionsStore.viewDate.clone.manipulate(-1,r.hours),r.hours)||t.querySelector(`[data-action=${h.decrementHours}]`).classList.add(o.css.disabled),t.querySelector(`[data-time-component=${r.hours}]`).innerText=this.optionsStore.options.display.components.useTwentyfourHour?s.hoursFormatted:s.twelveHoursFormatted),this.optionsStore.options.display.components.minutes&&(this.validation.isValid(this.optionsStore.viewDate.clone.manipulate(1,r.minutes),r.minutes)||t.querySelector(`[data-action=${h.incrementMinutes}]`).classList.add(o.css.disabled),this.validation.isValid(this.optionsStore.viewDate.clone.manipulate(-1,r.minutes),r.minutes)||t.querySelector(`[data-action=${h.decrementMinutes}]`).classList.add(o.css.disabled),t.querySelector(`[data-time-component=${r.minutes}]`).innerText=s.minutesFormatted),this.optionsStore.options.display.components.seconds&&(this.validation.isValid(this.optionsStore.viewDate.clone.manipulate(1,r.seconds),r.seconds)||t.querySelector(`[data-action=${h.incrementSeconds}]`).classList.add(o.css.disabled),this.validation.isValid(this.optionsStore.viewDate.clone.manipulate(-1,r.seconds),r.seconds)||t.querySelector(`[data-action=${h.decrementSeconds}]`).classList.add(o.css.disabled),t.querySelector(`[data-time-component=${r.seconds}]`).innerText=s.secondsFormatted),!this.optionsStore.options.display.components.useTwentyfourHour){const i=t.querySelector(`[data-action=${h.toggleMeridiem}]`);i.innerText=s.meridiem(),this.validation.isValid(s.clone.manipulate(s.hours>=12?-12:12,r.hours))?i.classList.remove(o.css.disabled):i.classList.add(o.css.disabled)}t.style.gridTemplateAreas=`"${this._gridColumns}"`}_grid(e){this._gridColumns="";const t=[],s=[],i=[],a=document.createElement("div"),l=e(this.optionsStore.options.display.icons.up),u=e(this.optionsStore.options.display.icons.down);a.classList.add(o.css.separator,o.css.noHighlight);const p=a.cloneNode(!0);p.innerHTML=":";const y=(c=!1)=>c?p.cloneNode(!0):a.cloneNode(!0);if(this.optionsStore.options.display.components.hours){let c=document.createElement("div");c.setAttribute("title",this.optionsStore.options.localization.incrementHour),c.setAttribute("data-action",h.incrementHours),c.appendChild(l.cloneNode(!0)),t.push(c),c=document.createElement("div"),c.setAttribute("title",this.optionsStore.options.localization.pickHour),c.setAttribute("data-action",h.showHours),c.setAttribute("data-time-component",r.hours),s.push(c),c=document.createElement("div"),c.setAttribute("title",this.optionsStore.options.localization.decrementHour),c.setAttribute("data-action",h.decrementHours),c.appendChild(u.cloneNode(!0)),i.push(c),this._gridColumns+="a"}if(this.optionsStore.options.display.components.minutes){this._gridColumns+=" a",this.optionsStore.options.display.components.hours&&(t.push(y()),s.push(y(!0)),i.push(y()),this._gridColumns+=" a");let c=document.createElement("div");c.setAttribute("title",this.optionsStore.options.localization.incrementMinute),c.setAttribute("data-action",h.incrementMinutes),c.appendChild(l.cloneNode(!0)),t.push(c),c=document.createElement("div"),c.setAttribute("title",this.optionsStore.options.localization.pickMinute),c.setAttribute("data-action",h.showMinutes),c.setAttribute("data-time-component",r.minutes),s.push(c),c=document.createElement("div"),c.setAttribute("title",this.optionsStore.options.localization.decrementMinute),c.setAttribute("data-action",h.decrementMinutes),c.appendChild(u.cloneNode(!0)),i.push(c)}if(this.optionsStore.options.display.components.seconds){this._gridColumns+=" a",this.optionsStore.options.display.components.minutes&&(t.push(y()),s.push(y(!0)),i.push(y()),this._gridColumns+=" a");let c=document.createElement("div");c.setAttribute("title",this.optionsStore.options.localization.incrementSecond),c.setAttribute("data-action",h.incrementSeconds),c.appendChild(l.cloneNode(!0)),t.push(c),c=document.createElement("div"),c.setAttribute("title",this.optionsStore.options.localization.pickSecond),c.setAttribute("data-action",h.showSeconds),c.setAttribute("data-time-component",r.seconds),s.push(c),c=document.createElement("div"),c.setAttribute("title",this.optionsStore.options.localization.decrementSecond),c.setAttribute("data-action",h.decrementSeconds),c.appendChild(u.cloneNode(!0)),i.push(c)}if(!this.optionsStore.options.display.components.useTwentyfourHour){this._gridColumns+=" a";let c=y();t.push(c);let m=document.createElement("button");m.setAttribute("title",this.optionsStore.options.localization.toggleMeridiem),m.setAttribute("data-action",h.toggleMeridiem),m.setAttribute("tabindex","-1"),o.css.toggleMeridiem.includes(",")?m.classList.add(...o.css.toggleMeridiem.split(",")):m.classList.add(o.css.toggleMeridiem),c=document.createElement("div"),c.classList.add(o.css.noHighlight),c.appendChild(m),s.push(c),c=y(),i.push(c)}return this._gridColumns=this._gridColumns.trim(),[...t,...s,...i]}}class ct{constructor(){this.optionsStore=f.locate(S),this.validation=f.locate(k)}getPicker(){const e=document.createElement("div");e.classList.add(o.css.hourContainer);for(let t=0;t<(this.optionsStore.options.display.components.useTwentyfourHour?24:12);t++){const s=document.createElement("div");s.setAttribute("data-action",h.selectHour),e.appendChild(s)}return e}_update(e,t){const s=e.getElementsByClassName(o.css.hourContainer)[0];let i=this.optionsStore.viewDate.clone.startOf(r.date);s.querySelectorAll(`[data-action="${h.selectHour}"]`).forEach(a=>{let l=[];l.push(o.css.hour),this.validation.isValid(i,r.hours)||l.push(o.css.disabled),t(r.hours,i,l,a),a.classList.remove(...a.classList),a.classList.add(...l),a.setAttribute("data-value",`${i.hours}`),a.innerText=this.optionsStore.options.display.components.useTwentyfourHour?i.hoursFormatted:i.twelveHoursFormatted,i.manipulate(1,r.hours)})}}class ht{constructor(){this.optionsStore=f.locate(S),this.validation=f.locate(k)}getPicker(){const e=document.createElement("div");e.classList.add(o.css.minuteContainer);let t=1===this.optionsStore.options.stepping?5:this.optionsStore.options.stepping;for(let s=0;s<60/t;s++){const i=document.createElement("div");i.setAttribute("data-action",h.selectMinute),e.appendChild(i)}return e}_update(e,t){const s=e.getElementsByClassName(o.css.minuteContainer)[0];let i=this.optionsStore.viewDate.clone.startOf(r.hours),a=1===this.optionsStore.options.stepping?5:this.optionsStore.options.stepping;s.querySelectorAll(`[data-action="${h.selectMinute}"]`).forEach(l=>{let u=[];u.push(o.css.minute),this.validation.isValid(i,r.minutes)||u.push(o.css.disabled),t(r.minutes,i,u,l),l.classList.remove(...l.classList),l.classList.add(...u),l.setAttribute("data-value",`${i.minutes}`),l.innerText=i.minutesFormatted,i.manipulate(a,r.minutes)})}}class ut{constructor(){this.optionsStore=f.locate(S),this.validation=f.locate(k)}getPicker(){const e=document.createElement("div");e.classList.add(o.css.secondContainer);for(let t=0;t<12;t++){const s=document.createElement("div");s.setAttribute("data-action",h.selectSecond),e.appendChild(s)}return e}_update(e,t){const s=e.getElementsByClassName(o.css.secondContainer)[0];let i=this.optionsStore.viewDate.clone.startOf(r.minutes);s.querySelectorAll(`[data-action="${h.selectSecond}"]`).forEach(a=>{let l=[];l.push(o.css.second),this.validation.isValid(i,r.seconds)||l.push(o.css.disabled),t(r.seconds,i,l,a),a.classList.remove(...a.classList),a.classList.add(...l),a.setAttribute("data-value",`${i.seconds}`),a.innerText=i.secondsFormatted,i.manipulate(5,r.seconds)})}}let O=(()=>{class n{static toggle(t){t.classList.contains(o.css.show)?this.hide(t):this.show(t)}static showImmediately(t){t.classList.remove(o.css.collapsing),t.classList.add(o.css.collapse,o.css.show),t.style.height=""}static show(t){t.classList.contains(o.css.collapsing)||t.classList.contains(o.css.show)||(t.style.height="0",t.classList.remove(o.css.collapse),t.classList.add(o.css.collapsing),setTimeout(()=>{n.showImmediately(t)},this.getTransitionDurationFromElement(t)),t.style.height=`${t.scrollHeight}px`)}static hideImmediately(t){!t||(t.classList.remove(o.css.collapsing,o.css.show),t.classList.add(o.css.collapse))}static hide(t){!t.classList.contains(o.css.collapsing)&&t.classList.contains(o.css.show)&&(t.style.height=`${t.getBoundingClientRect().height}px`,t.classList.remove(o.css.collapse,o.css.show),t.classList.add(o.css.collapsing),t.style.height="",setTimeout(()=>{n.hideImmediately(t)},this.getTransitionDurationFromElement(t)))}}return n.getTransitionDurationFromElement=e=>{if(!e)return 0;let{transitionDuration:t,transitionDelay:s}=window.getComputedStyle(e);const i=Number.parseFloat(t),a=Number.parseFloat(s);return i||a?(t=t.split(",")[0],s=s.split(",")[0],1e3*(Number.parseFloat(t)+Number.parseFloat(s))):0},n})();class B{constructor(){this._isVisible=!1,this._documentClickEvent=e=>{this.optionsStore.options.debug||window.debug||this._isVisible&&!e.composedPath().includes(this.widget)&&!e.composedPath()?.includes(this.optionsStore.element)&&this.hide()},this._actionsClickEvent=e=>{this._eventEmitters.action.emit({e})},this.optionsStore=f.locate(S),this.validation=f.locate(k),this.dates=f.locate(C),this.dateDisplay=f.locate(nt),this.monthDisplay=f.locate(at),this.yearDisplay=f.locate(rt),this.decadeDisplay=f.locate(dt),this.timeDisplay=f.locate(lt),this.hourDisplay=f.locate(ct),this.minuteDisplay=f.locate(ht),this.secondDisplay=f.locate(ut),this._eventEmitters=f.locate(N),this._widget=void 0,this._eventEmitters.updateDisplay.subscribe(e=>{this._update(e)})}get widget(){return this._widget}get isVisible(){return this._isVisible}_update(e){if(this.widget)switch(e){case r.seconds:this.secondDisplay._update(this.widget,this.paint);break;case r.minutes:this.minuteDisplay._update(this.widget,this.paint);break;case r.hours:this.hourDisplay._update(this.widget,this.paint);break;case r.date:this.dateDisplay._update(this.widget,this.paint);break;case r.month:this.monthDisplay._update(this.widget,this.paint);break;case r.year:this.yearDisplay._update(this.widget,this.paint);break;case"clock":if(!this._hasTime)break;this.timeDisplay._update(this.widget),this._update(r.hours),this._update(r.minutes),this._update(r.seconds);break;case"calendar":this._update(r.date),this._update(r.year),this._update(r.month),this.decadeDisplay._update(this.widget,this.paint),this._updateCalendarHeader();break;case"all":this._hasTime&&this._update("clock"),this._hasDate&&this._update("calendar")}}paint(e,t,s,i){}show(){if(null==this.widget){if(0==this.dates.picked.length){if(this.optionsStore.options.useCurrent&&!this.optionsStore.options.defaultDate){const t=(new w).setLocale(this.optionsStore.options.localization.locale);if(!this.optionsStore.options.keepInvalid){let s=0,i=1;for(this.optionsStore.options.restrictions.maxDate?.isBefore(t)&&(i=-1);!(this.validation.isValid(t)||(t.manipulate(i,r.date),s>31));)s++}this.dates.setValue(t)}this.optionsStore.options.defaultDate&&this.dates.setValue(this.optionsStore.options.defaultDate)}this._buildWidget(),this._updateTheme();const e=this._hasTime&&!this._hasDate;e&&(this.optionsStore.currentView="clock",this._eventEmitters.action.emit({e:null,action:h.showClock})),this.optionsStore.currentCalendarViewMode||(this.optionsStore.currentCalendarViewMode=this.optionsStore.minimumCalendarViewMode),!e&&"clock"!==this.optionsStore.options.display.viewMode&&(this._hasTime&&(this.optionsStore.options.display.sideBySide?O.show(this.widget.querySelector(`div.${o.css.timeContainer}`)):O.hideImmediately(this.widget.querySelector(`div.${o.css.timeContainer}`))),O.show(this.widget.querySelector(`div.${o.css.dateContainer}`))),this._hasDate&&this._showMode(),this.optionsStore.options.display.inline?this.optionsStore.element.appendChild(this.widget):((this.optionsStore.options?.container||document.body).appendChild(this.widget),this.createPopup(this.optionsStore.element,this.widget,{modifiers:[{name:"eventListeners",enabled:!0}],placement:"rtl"===document.documentElement.dir?"bottom-end":"bottom-start"}).then()),"clock"==this.optionsStore.options.display.viewMode&&this._eventEmitters.action.emit({e:null,action:h.showClock}),this.widget.querySelectorAll("[data-action]").forEach(t=>t.addEventListener("click",this._actionsClickEvent)),this._hasTime&&this.optionsStore.options.display.sideBySide&&(this.timeDisplay._update(this.widget),this.widget.getElementsByClassName(o.css.clockContainer)[0].style.display="grid")}this.widget.classList.add(o.css.show),this.optionsStore.options.display.inline||(this.updatePopup(),document.addEventListener("click",this._documentClickEvent)),this._eventEmitters.triggerEvent.emit({type:o.events.show}),this._isVisible=!0}createPopup(e,t,s){var i=this;return function X(n){return function(){var e=this,t=arguments;return new Promise(function(s,i){var a=n.apply(e,t);function l(p){Z(a,s,i,l,u,"next",p)}function u(p){Z(a,s,i,l,u,"throw",p)}l(void 0)})}}(function*(){let a;if(window?.Popper)a=window?.Popper?.createPopper;else{const{createPopper:l}=yield v.e(352).then(v.bind(v,7352));a=l}a&&(i._popperInstance=a(e,t,s))})()}updatePopup(){this._popperInstance?.update()}_showMode(e){if(!this.widget)return;if(e){const i=Math.max(this.optionsStore.minimumCalendarViewMode,Math.min(3,this.optionsStore.currentCalendarViewMode+e));if(this.optionsStore.currentCalendarViewMode==i)return;this.optionsStore.currentCalendarViewMode=i}this.widget.querySelectorAll(`.${o.css.dateContainer} > div:not(.${o.css.calendarHeader}), .${o.css.timeContainer} > div:not(.${o.css.clockContainer})`).forEach(i=>i.style.display="none");const t=A[this.optionsStore.currentCalendarViewMode];let s=this.widget.querySelector(`.${t.className}`);switch(t.className){case o.css.decadesContainer:this.decadeDisplay._update(this.widget,this.paint);break;case o.css.yearsContainer:this.yearDisplay._update(this.widget,this.paint);break;case o.css.monthsContainer:this.monthDisplay._update(this.widget,this.paint);break;case o.css.daysContainer:this.dateDisplay._update(this.widget,this.paint)}s.style.display="grid",this._updateCalendarHeader(),this._eventEmitters.viewUpdate.emit()}_updateTheme(e){if(this.widget){if(e){if(this.optionsStore.options.display.theme===e)return;this.optionsStore.options.display.theme=e}this.widget.classList.remove("light","dark"),this.widget.classList.add(this._getThemeClass()),"auto"===this.optionsStore.options.display.theme?window.matchMedia(o.css.isDarkPreferredQuery).addEventListener("change",()=>this._updateTheme()):window.matchMedia(o.css.isDarkPreferredQuery).removeEventListener("change",()=>this._updateTheme())}}_getThemeClass(){const e=this.optionsStore.options.display.theme||"auto",t=window.matchMedia&&window.matchMedia(o.css.isDarkPreferredQuery).matches;switch(e){case"light":return o.css.lightTheme;case"dark":return o.css.darkTheme;case"auto":return t?o.css.darkTheme:o.css.lightTheme}}_updateCalendarHeader(){const e=[...this.widget.querySelector(`.${o.css.dateContainer} div[style*="display: grid"]`).classList].find(a=>a.startsWith(o.css.dateContainer)),[t,s,i]=this.widget.getElementsByClassName(o.css.calendarHeader)[0].getElementsByTagName("div");switch(e){case o.css.decadesContainer:t.setAttribute("title",this.optionsStore.options.localization.previousCentury),s.setAttribute("title",""),i.setAttribute("title",this.optionsStore.options.localization.nextCentury);break;case o.css.yearsContainer:t.setAttribute("title",this.optionsStore.options.localization.previousDecade),s.setAttribute("title",this.optionsStore.options.localization.selectDecade),i.setAttribute("title",this.optionsStore.options.localization.nextDecade);break;case o.css.monthsContainer:t.setAttribute("title",this.optionsStore.options.localization.previousYear),s.setAttribute("title",this.optionsStore.options.localization.selectYear),i.setAttribute("title",this.optionsStore.options.localization.nextYear);break;case o.css.daysContainer:t.setAttribute("title",this.optionsStore.options.localization.previousMonth),s.setAttribute("title",this.optionsStore.options.localization.selectMonth),i.setAttribute("title",this.optionsStore.options.localization.nextMonth),s.innerText=this.optionsStore.viewDate.format(this.optionsStore.options.localization.dayViewHeaderFormat)}s.innerText=s.getAttribute(e)}hide(){!this.widget||!this._isVisible||(this.widget.classList.remove(o.css.show),this._isVisible&&(this._eventEmitters.triggerEvent.emit({type:o.events.hide,date:this.optionsStore.unset?null:this.dates.lastPicked?this.dates.lastPicked.clone:void 0}),this._isVisible=!1),document.removeEventListener("click",this._documentClickEvent))}toggle(){return this._isVisible?this.hide():this.show()}_dispose(){document.removeEventListener("click",this._documentClickEvent),this.widget&&(this.widget.querySelectorAll("[data-action]").forEach(e=>e.removeEventListener("click",this._actionsClickEvent)),this.widget.parentNode.removeChild(this.widget),this._widget=void 0)}_buildWidget(){const e=document.createElement("div");e.classList.add(o.css.widget);const t=document.createElement("div");t.classList.add(o.css.dateContainer),t.append(this.getHeadTemplate(),this.decadeDisplay.getPicker(),this.yearDisplay.getPicker(),this.monthDisplay.getPicker(),this.dateDisplay.getPicker());const s=document.createElement("div");s.classList.add(o.css.timeContainer),s.appendChild(this.timeDisplay.getPicker(this._iconTag.bind(this))),s.appendChild(this.hourDisplay.getPicker()),s.appendChild(this.minuteDisplay.getPicker()),s.appendChild(this.secondDisplay.getPicker());const i=document.createElement("div");if(i.classList.add(o.css.toolbar),i.append(...this.getToolbarElements()),this.optionsStore.options.display.inline&&e.classList.add(o.css.inline),this.optionsStore.options.display.calendarWeeks&&e.classList.add("calendarWeeks"),this.optionsStore.options.display.sideBySide&&this._hasDate&&this._hasTime){e.classList.add(o.css.sideBySide),"top"===this.optionsStore.options.display.toolbarPlacement&&e.appendChild(i);const l=document.createElement("div");return l.classList.add("td-row"),t.classList.add("td-half"),s.classList.add("td-half"),l.appendChild(t),l.appendChild(s),e.appendChild(l),"bottom"===this.optionsStore.options.display.toolbarPlacement&&e.appendChild(i),void(this._widget=e)}"top"===this.optionsStore.options.display.toolbarPlacement&&e.appendChild(i),this._hasDate&&(this._hasTime&&(t.classList.add(o.css.collapse),"clock"!==this.optionsStore.options.display.viewMode&&t.classList.add(o.css.show)),e.appendChild(t)),this._hasTime&&(this._hasDate&&(s.classList.add(o.css.collapse),"clock"===this.optionsStore.options.display.viewMode&&s.classList.add(o.css.show)),e.appendChild(s)),"bottom"===this.optionsStore.options.display.toolbarPlacement&&e.appendChild(i);const a=document.createElement("div");a.classList.add("arrow"),a.setAttribute("data-popper-arrow",""),e.appendChild(a),this._widget=e}get _hasTime(){return this.optionsStore.options.display.components.clock&&(this.optionsStore.options.display.components.hours||this.optionsStore.options.display.components.minutes||this.optionsStore.options.display.components.seconds)}get _hasDate(){return this.optionsStore.options.display.components.calendar&&(this.optionsStore.options.display.components.year||this.optionsStore.options.display.components.month||this.optionsStore.options.display.components.date)}getToolbarElements(){const e=[];if(this.optionsStore.options.display.buttons.today){const t=document.createElement("div");t.setAttribute("data-action",h.today),t.setAttribute("title",this.optionsStore.options.localization.today),t.appendChild(this._iconTag(this.optionsStore.options.display.icons.today)),e.push(t)}if(!this.optionsStore.options.display.sideBySide&&this._hasDate&&this._hasTime){let t,s;"clock"===this.optionsStore.options.display.viewMode?(t=this.optionsStore.options.localization.selectDate,s=this.optionsStore.options.display.icons.date):(t=this.optionsStore.options.localization.selectTime,s=this.optionsStore.options.display.icons.time);const i=document.createElement("div");i.setAttribute("data-action",h.togglePicker),i.setAttribute("title",t),i.appendChild(this._iconTag(s)),e.push(i)}if(this.optionsStore.options.display.buttons.clear){const t=document.createElement("div");t.setAttribute("data-action",h.clear),t.setAttribute("title",this.optionsStore.options.localization.clear),t.appendChild(this._iconTag(this.optionsStore.options.display.icons.clear)),e.push(t)}if(this.optionsStore.options.display.buttons.close){const t=document.createElement("div");t.setAttribute("data-action",h.close),t.setAttribute("title",this.optionsStore.options.localization.close),t.appendChild(this._iconTag(this.optionsStore.options.display.icons.close)),e.push(t)}return e}getHeadTemplate(){const e=document.createElement("div");e.classList.add(o.css.calendarHeader);const t=document.createElement("div");t.classList.add(o.css.previous),t.setAttribute("data-action",h.previous),t.appendChild(this._iconTag(this.optionsStore.options.display.icons.previous));const s=document.createElement("div");s.classList.add(o.css.switch),s.setAttribute("data-action",h.changeCalendarView);const i=document.createElement("div");return i.classList.add(o.css.next),i.setAttribute("data-action",h.next),i.appendChild(this._iconTag(this.optionsStore.options.display.icons.next)),e.append(t,s,i),e}_iconTag(e){if("sprites"===this.optionsStore.options.display.icons.type){const s=document.createElementNS("http://www.w3.org/2000/svg","svg"),i=document.createElementNS("http://www.w3.org/2000/svg","use");return i.setAttribute("xlink:href",e),i.setAttribute("href",e),s.appendChild(i),s}const t=document.createElement("i");return t.classList.add(...e.split(" ")),t}_rebuild(){const e=this._isVisible;e&&this.hide(),this._dispose(),e&&this.show()}}class pt{constructor(){this.optionsStore=f.locate(S),this.dates=f.locate(C),this.validation=f.locate(k),this.display=f.locate(B),this._eventEmitters=f.locate(N),this._eventEmitters.action.subscribe(e=>{this.do(e.e,e.action)})}do(e,t){const s=e?.currentTarget;if(s?.classList?.contains(o.css.disabled))return!1;const i=(this.dates.lastPicked||this.optionsStore.viewDate).clone;switch(t=t||s?.dataset?.action){case h.next:case h.previous:this.handleNextPrevious(t);break;case h.changeCalendarView:this.display._showMode(1),this.display._updateCalendarHeader();break;case h.selectMonth:case h.selectYear:case h.selectDecade:const a=+s.dataset.value;switch(t){case h.selectMonth:this.optionsStore.viewDate.month=a;break;case h.selectYear:case h.selectDecade:this.optionsStore.viewDate.year=a}this.optionsStore.currentCalendarViewMode===this.optionsStore.minimumCalendarViewMode?(this.dates.setValue(this.optionsStore.viewDate,this.dates.lastPickedIndex),this.optionsStore.options.display.inline||this.display.hide()):this.display._showMode(-1);break;case h.selectDay:const l=this.optionsStore.viewDate.clone;s.classList.contains(o.css.old)&&l.manipulate(-1,r.month),s.classList.contains(o.css.new)&&l.manipulate(1,r.month),l.date=+s.dataset.day;let u=0;this.optionsStore.options.multipleDates?(u=this.dates.pickedIndex(l,r.date),-1!==u?this.dates.setValue(null,u):this.dates.setValue(l,this.dates.lastPickedIndex+1)):this.dates.setValue(l,this.dates.lastPickedIndex),!this.display._hasTime&&!this.optionsStore.options.display.keepOpen&&!this.optionsStore.options.display.inline&&!this.optionsStore.options.multipleDates&&this.display.hide();break;case h.selectHour:let p=+s.dataset.value;i.hours>=12&&!this.optionsStore.options.display.components.useTwentyfourHour&&(p+=12),i.hours=p,this.dates.setValue(i,this.dates.lastPickedIndex),this.hideOrClock(e);break;case h.selectMinute:i.minutes=+s.dataset.value,this.dates.setValue(i,this.dates.lastPickedIndex),this.hideOrClock(e);break;case h.selectSecond:i.seconds=+s.dataset.value,this.dates.setValue(i,this.dates.lastPickedIndex),this.hideOrClock(e);break;case h.incrementHours:this.manipulateAndSet(i,r.hours);break;case h.incrementMinutes:this.manipulateAndSet(i,r.minutes,this.optionsStore.options.stepping);break;case h.incrementSeconds:this.manipulateAndSet(i,r.seconds);break;case h.decrementHours:this.manipulateAndSet(i,r.hours,-1);break;case h.decrementMinutes:this.manipulateAndSet(i,r.minutes,-1*this.optionsStore.options.stepping);break;case h.decrementSeconds:this.manipulateAndSet(i,r.seconds,-1);break;case h.toggleMeridiem:this.manipulateAndSet(i,r.hours,this.dates.lastPicked.hours>=12?-12:12);break;case h.togglePicker:s.getAttribute("title")===this.optionsStore.options.localization.selectDate?(s.setAttribute("title",this.optionsStore.options.localization.selectTime),s.innerHTML=this.display._iconTag(this.optionsStore.options.display.icons.time).outerHTML,this.display._updateCalendarHeader(),this.optionsStore.refreshCurrentView()):(s.setAttribute("title",this.optionsStore.options.localization.selectDate),s.innerHTML=this.display._iconTag(this.optionsStore.options.display.icons.date).outerHTML,this.display._hasTime&&(this.handleShowClockContainers(h.showClock),this.display._update("clock"))),this.display.widget.querySelectorAll(`.${o.css.dateContainer}, .${o.css.timeContainer}`).forEach(c=>O.toggle(c)),this._eventEmitters.viewUpdate.emit();break;case h.showClock:case h.showHours:case h.showMinutes:case h.showSeconds:!this.optionsStore.options.display.sideBySide&&"clock"!==this.optionsStore.currentView&&(O.hideImmediately(this.display.widget.querySelector(`div.${o.css.dateContainer}`)),O.showImmediately(this.display.widget.querySelector(`div.${o.css.timeContainer}`))),this.handleShowClockContainers(t);break;case h.clear:this.dates.setValue(null),this.display._updateCalendarHeader();break;case h.close:this.display.hide();break;case h.today:const y=(new w).setLocale(this.optionsStore.options.localization.locale);this.optionsStore.viewDate=y,this.validation.isValid(y,r.date)&&this.dates.setValue(y,this.dates.lastPickedIndex)}}handleShowClockContainers(e){if(!this.display._hasTime)return void o.errorMessages.throwError("Cannot show clock containers when time is disabled.");this.optionsStore.currentView="clock",this.display.widget.querySelectorAll(`.${o.css.timeContainer} > div`).forEach(s=>s.style.display="none");let t="";switch(e){case h.showClock:t=o.css.clockContainer,this.display._update("clock");break;case h.showHours:t=o.css.hourContainer,this.display._update(r.hours);break;case h.showMinutes:t=o.css.minuteContainer,this.display._update(r.minutes);break;case h.showSeconds:t=o.css.secondContainer,this.display._update(r.seconds)}this.display.widget.getElementsByClassName(t)[0].style.display="grid"}handleNextPrevious(e){const{unit:t,step:s}=A[this.optionsStore.currentCalendarViewMode];this.optionsStore.viewDate.manipulate(e===h.next?s:-1*s,t),this._eventEmitters.viewUpdate.emit(),this.display._showMode()}hideOrClock(e){!this.optionsStore.options.display.components.useTwentyfourHour||this.optionsStore.options.display.components.minutes||this.optionsStore.options.display.keepOpen||this.optionsStore.options.display.inline?this.do(e,h.showClock):this.display.hide()}manipulateAndSet(e,t,s=1){const i=e.manipulate(s,t);this.validation.isValid(i,t)&&this.dates.setValue(i,this.dates.lastPickedIndex)}}class z{constructor(e,t={}){this._subscribers={},this._isDisabled=!1,this._inputChangeEvent=s=>{if(s?.detail)return;const a=()=>{this.dates.lastPicked&&(this.optionsStore.viewDate=this.dates.lastPicked.clone)},l=this.optionsStore.input.value;if(this.optionsStore.options.multipleDates)try{const u=l.split(this.optionsStore.options.multipleDatesSeparator);for(let p=0;p<u.length;p++)this.dates.setFromInput(u[p],p);a()}catch{console.warn("TD: Something went wrong trying to set the multipleDates values from the input field.")}else this.dates.setFromInput(l,0),a()},this._toggleClickEvent=()=>{this.optionsStore.element?.disabled||this.optionsStore.input?.disabled||this.toggle()},f=new it,this._eventEmitters=f.locate(N),this.optionsStore=f.locate(S),this.display=f.locate(B),this.dates=f.locate(C),this.actions=f.locate(pt),e||o.errorMessages.mustProvideElement(),this.optionsStore.element=e,this._initializeOptions(t,E,!0),this.optionsStore.viewDate.setLocale(this.optionsStore.options.localization.locale),this.optionsStore.unset=!0,this._initializeInput(),this._initializeToggle(),this.optionsStore.options.display.inline&&this.display.show(),this._eventEmitters.triggerEvent.subscribe(s=>{this._triggerEvent(s)}),this._eventEmitters.viewUpdate.subscribe(()=>{this._viewUpdate()})}get viewDate(){return this.optionsStore.viewDate}updateOptions(e,t=!1){this._initializeOptions(e,t?E:this.optionsStore.options),this.display._rebuild()}toggle(){this._isDisabled||this.display.toggle()}show(){this._isDisabled||this.display.show()}hide(){this.display.hide()}disable(){this._isDisabled=!0,this.optionsStore.input?.setAttribute("disabled","disabled"),this.display.hide()}enable(){this._isDisabled=!1,this.optionsStore.input?.removeAttribute("disabled")}clear(){this.optionsStore.input.value="",this.dates.clear()}subscribe(e,t){let s;"string"==typeof e&&(e=[e]),s=Array.isArray(t)?t:[t],e.length!==s.length&&o.errorMessages.subscribeMismatch();const i=[];for(let a=0;a<e.length;a++){const l=e[a];if(Array.isArray(this._subscribers[l])||(this._subscribers[l]=[]),this._subscribers[l].push(s[a]),i.push({unsubscribe:this._unsubscribe.bind(this,l,this._subscribers[l].length-1)}),1===e.length)return i[0]}return i}dispose(){this.display.hide(),this.display._dispose(),this.optionsStore.input?.removeEventListener("change",this._inputChangeEvent),this.optionsStore.options.allowInputToggle&&this.optionsStore.input?.removeEventListener("click",this._toggleClickEvent),this._toggle?.removeEventListener("click",this._toggleClickEvent),this._subscribers={}}locale(e){let t=F[e];!t||this.updateOptions({localization:t})}_triggerEvent(e){e.viewMode=this.optionsStore.currentView;const t=e.type===o.events.change;if(t){const{date:s,oldDate:i,isClear:a}=e;if(s&&i&&s.isSame(i)||!a&&!s&&!i)return;this._handleAfterChangeEvent(e),this.optionsStore.input?.dispatchEvent(new CustomEvent(e.type,{detail:e})),this.optionsStore.input?.dispatchEvent(new CustomEvent("change",{detail:e}))}if(this.optionsStore.element.dispatchEvent(new CustomEvent(e.type,{detail:e})),window.jQuery){const s=window.jQuery;t&&this.optionsStore.input?s(this.optionsStore.input).trigger(e):s(this.optionsStore.element).trigger(e)}this._publish(e)}_publish(e){!Array.isArray(this._subscribers[e.type])||this._subscribers[e.type].forEach(t=>{t(e)})}_viewUpdate(){this._triggerEvent({type:o.events.update,viewDate:this.optionsStore.viewDate.clone})}_unsubscribe(e,t){this._subscribers[e].splice(t,1)}_initializeOptions(e,t,s=!1){let i=H.deepCopy(e);i=H._mergeOptions(i,t),s&&(i=H._dataToOptions(this.optionsStore.element,i)),H._validateConflicts(i),i.viewDate=i.viewDate.setLocale(i.localization.locale),this.optionsStore.viewDate.isSame(i.viewDate)||(this.optionsStore.viewDate=i.viewDate),i.display.components.year&&(this.optionsStore.minimumCalendarViewMode=2),i.display.components.month&&(this.optionsStore.minimumCalendarViewMode=1),i.display.components.date&&(this.optionsStore.minimumCalendarViewMode=0),this.optionsStore.currentCalendarViewMode=Math.max(this.optionsStore.minimumCalendarViewMode,this.optionsStore.currentCalendarViewMode),A[this.optionsStore.currentCalendarViewMode].name!==i.display.viewMode&&(this.optionsStore.currentCalendarViewMode=Math.max(A.findIndex(a=>a.name===i.display.viewMode),this.optionsStore.minimumCalendarViewMode)),this.display?.isVisible&&this.display._update("all"),void 0===i.display.components.useTwentyfourHour&&(i.display.components.useTwentyfourHour=!i.viewDate.parts()?.dayPeriod),this.optionsStore.options=i}_initializeInput(){if("INPUT"==this.optionsStore.element.tagName)this.optionsStore.input=this.optionsStore.element;else{let e=this.optionsStore.element.dataset.tdTargetInput;this.optionsStore.input=this.optionsStore.element.querySelector(null==e||"nearest"==e?"input":e)}!this.optionsStore.input||(this.optionsStore.input.addEventListener("change",this._inputChangeEvent),this.optionsStore.options.allowInputToggle&&this.optionsStore.input.addEventListener("click",this._toggleClickEvent),this.optionsStore.input.value&&this._inputChangeEvent())}_initializeToggle(){if(this.optionsStore.options.display.inline)return;let e=this.optionsStore.element.dataset.tdTargetToggle;"nearest"==e&&(e='[data-td-toggle="datetimepicker"]'),this._toggle=null==e?this.optionsStore.element:this.optionsStore.element.querySelector(e),this._toggle.addEventListener("click",this._toggleClickEvent)}_handleAfterChangeEvent(e){!this.optionsStore.options.promptTimeOnDateChange||this.optionsStore.options.display.inline||this.optionsStore.options.display.sideBySide||!this.display._hasTime||this.display.widget?.getElementsByClassName(o.css.show)[0].classList.contains(o.css.timeContainer)||!e.oldDate&&this.optionsStore.options.useCurrent||e.oldDate&&e.date?.isSame(e.oldDate)||(clearTimeout(this._currentPromptTimeTimeout),this._currentPromptTimeTimeout=setTimeout(()=>{this.display.widget&&this._eventEmitters.action.emit({e:{currentTarget:this.display.widget.querySelector(`.${o.css.switch} div`)},action:h.togglePicker})},this.optionsStore.options.promptTimeOnDateChangeTransitionDelay))}}const F={},mt=["picker"];let ft=(()=>{class n{constructor(){this.pickerOptions={},this.disabled=!1,this.value=void 0,this.blurListener=this.onBlur.bind(this)}setValue(t){this.value=t}writeValue(t){this.ngOnChanges({date:new d.WD2(this.value,t,!1)}),this.setValue(t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.disabled=t}ngAfterViewInit(){this.picker=new z(this.pickerHost.nativeElement,this.pickerOptions),this.ngOnChanges({date:new d.WD2(null,this.value,!1)}),this.subscription=this.picker.subscribe("change.td",t=>{const s=t.date.getTime();this.setValue(s),this.onChange&&this.onChange(s)}),this.pickerHost.nativeElement.addEventListener("blur",this.blurListener,!0)}onBlur(){this.onTouched&&this.onTouched()}ngOnChanges(t){const s={};t.minDate?.currentValue&&(s.minDate=new w(t.minDate?.currentValue)),t.maxDate?.currentValue&&(s.maxDate=new w(t.maxDate?.currentValue)),t.date?.currentValue&&this.picker?.dates.setValue(new w(t.date?.currentValue)),Object.keys(s).length>0&&(this.pickerOptions.restrictions=s),Object.keys(this.pickerOptions).length>0&&this.picker?.updateOptions(this.pickerOptions)}ngOnDestroy(){this.subscription.unsubscribe(),this.pickerHost.nativeElement.removeEventListener("blur",this.blurListener,!0)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-date-time-picker"]],viewQuery:function(t,s){if(1&t&&d.Gf(mt,5),2&t){let i;d.iGM(i=d.CRH())&&(s.pickerHost=i.first)}},inputs:{minDate:"minDate",maxDate:"maxDate"},features:[d._Bn([{provide:b.JU,useExisting:(0,d.Gpc)(()=>n),multi:!0}]),d.TTD],decls:6,vars:1,consts:[["data-td-target-input","nearest","data-td-target-toggle","nearest"],["picker",""],["data-td-toggle","datetimepicker",1,"input-group","log-event"],["readonly","","type","text",1,"form-control"],[1,"input-group-text"],[1,"fas","fa-calendar"]],template:function(t,s){1&t&&(d.TgZ(0,"div",0,1)(2,"div",2),d._UZ(3,"input",3),d.TgZ(4,"span",4),d._UZ(5,"i",5),d.qZA()()()),2&t&&(d.xp6(3),d.uIk("disabled",!!s.disabled||null))}}),n})();function yt(n,e){1&n&&(d.TgZ(0,"span"),d._uU(1,"The title field is required."),d.qZA())}function gt(n,e){1&n&&(d.TgZ(0,"span"),d._uU(1,"Min title's characters are 10."),d.qZA())}function wt(n,e){1&n&&(d.TgZ(0,"span"),d._uU(1,"Max title's characters are 32."),d.qZA())}function bt(n,e){1&n&&(d.TgZ(0,"span"),d._uU(1,"The title field is empty."),d.qZA())}const St=[{path:"",component:(()=>{class n{constructor(t,s,i){this.fb=t,this.appService=s,this.router=i,this.timePickerMinDate=(new Date).getTime(),this.priorityItems=[{label:"Low",value:"LOW"},{label:"Normal",value:"NORMAL"},{label:"High",value:"HIGH"}],this.newTodoForm=this.fb.group({title:["",[b.kI.required,b.kI.minLength(10),b.kI.maxLength(32)]],date:[null,[b.kI.required]],priority:["LOW"]})}get title(){return this.newTodoForm.get("title")}get date(){return this.newTodoForm.get("date")}get priority(){return this.newTodoForm.get("priority")}onSubmit(){const t=this.newTodoForm.value,s=[...this.appService.todos.value,{title:t.title,done:!1,date:Number(t.date),priority:J.N[t.priority]}];this.appService.todos.next(s),this.router.navigate(["/"])}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(b.qu),d.Y36(Q.z),d.Y36(P.F0))},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-new-todo"]],decls:31,vars:19,consts:[[1,"card"],[1,"card-header"],[1,"card-body"],["novalidate","",3,"formGroup","ngSubmit"],[1,"mb-3"],["for","todoTitle",1,"form-label"],["type","text","id","todoTitle","maxlength","32","formControlName","title",1,"form-control"],[1,"invalid-feedback"],[4,"ngIf"],["for","dueDate",1,"form-label"],["id","dueDate","formControlName","date",3,"minDate"],["formControlName","priority",3,"items"],["menu",""],["type","button","data-bs-toggle","dropdown","aria-expanded","false",1,"btn","dropdown-toggle"],[1,"d-flex","justify-content-end","mt-5"],["routerLink","/",1,"btn","btn-light","mx-3"],["type","submit",1,"btn","btn-primary",3,"disabled"]],template:function(t,s){if(1&t&&(d.TgZ(0,"div",0)(1,"div",1),d._uU(2," New todo "),d.qZA(),d.TgZ(3,"div",2)(4,"form",3),d.NdJ("ngSubmit",function(){return s.onSubmit()}),d.TgZ(5,"div",4)(6,"label",5),d._uU(7,"Title"),d.qZA(),d._UZ(8,"input",6),d.TgZ(9,"div",7),d.YNc(10,yt,2,0,"span",8),d.YNc(11,gt,2,0,"span",8),d.YNc(12,wt,2,0,"span",8),d.qZA()(),d.TgZ(13,"div",4)(14,"label",9),d._uU(15,"Due date"),d.qZA(),d._UZ(16,"app-date-time-picker",10),d.TgZ(17,"div",7),d.YNc(18,bt,2,0,"span",8),d.qZA()(),d.TgZ(19,"label",9),d._uU(20,"Priority"),d.qZA(),d.TgZ(21,"div",4)(22,"app-dropdown-menu",11,12)(24,"button",13),d._uU(25),d.qZA()()(),d.TgZ(26,"div",14)(27,"a",15),d._uU(28,"Cancel"),d.qZA(),d.TgZ(29,"button",16),d._uU(30,"Create"),d.qZA()()()()()),2&t){const i=d.MAs(23);d.xp6(4),d.Q6J("formGroup",s.newTodoForm),d.xp6(4),d.ekj("is-invalid",!(null!=s.title&&s.title.valid)&&(null==s.title?null:s.title.touched))("is-valid",(null==s.title?null:s.title.valid)&&(null==s.title?null:s.title.touched)),d.xp6(2),d.Q6J("ngIf",null==s.title||null==s.title.errors?null:s.title.errors.required),d.xp6(1),d.Q6J("ngIf",null==s.title||null==s.title.errors?null:s.title.errors.minlength),d.xp6(1),d.Q6J("ngIf",null==s.title||null==s.title.errors?null:s.title.errors.maxlength),d.xp6(4),d.Q6J("minDate",s.timePickerMinDate),d.xp6(2),d.Q6J("ngIf",null==s.date||null==s.date.errors?null:s.date.errors.required),d.xp6(4),d.Q6J("items",s.priorityItems),d.xp6(2),d.ekj("btn-danger","HIGH"===(null==i.item?null:i.item.value))("btn-warning","NORMAL"===(null==i.item?null:i.item.value))("btn-primary","LOW"===(null==i.item?null:i.item.value)),d.xp6(1),d.hij(" ",i.item?i.item.label:"Todos priority"," "),d.xp6(4),d.Q6J("disabled",!s.newTodoForm.valid)}},dependencies:[K,ft,V.O5,b._Y,b.Fj,b.JJ,b.JL,b.nD,b.sg,b.u,P.yS]}),n})()}];let vt=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[P.Bz.forChild(St),P.Bz]}),n})(),Dt=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[V.ez]}),n})(),kt=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[V.ez]}),n})(),_t=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[Dt,kt,V.ez,b.UX,vt]}),n})()}}]);